{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/_services/auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"src/app/pipes/status-btn.pipe\";\nimport * as i4 from \"src/app/pipes/sort-orders.pipe\";\nimport * as i5 from \"src/app/pipes/filter-orders.pipe\";\n\nfunction ChefViewComponent_div_15_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const order_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Updated at: \", i0.ɵɵpipeBind2(2, 1, order_r1.updatedAt, \"short\"), \"\");\n  }\n}\n\nfunction ChefViewComponent_div_15_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20);\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 22)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const x_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", x_r5.product.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(x_r5.product.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Qty: \", x_r5.qty, \"\");\n  }\n}\n\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"btn-pending\": a0,\n    \"btn-delivering\": a1,\n    \"btn-delivered\": a2\n  };\n};\n\nfunction ChefViewComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"div\", 13)(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 14)(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ChefViewComponent_div_15_p_9_Template, 3, 4, \"p\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 16);\n    i0.ɵɵtemplate(11, ChefViewComponent_div_15_div_11_Template, 8, 3, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ChefViewComponent_div_15_Template_button_click_12_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.changeStatus($event);\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"titlecase\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const order_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"To: \", order_r1.client, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Received at: \", i0.ɵɵpipeBind2(8, 8, order_r1.dateEntry, \"short\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", order_r1.status !== \"pending\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", order_r1.products);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", order_r1.status);\n    i0.ɵɵpropertyInterpolate(\"id\", order_r1._id);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(13, _c0, order_r1.status === \"pending\", order_r1.status === \"ready to serve\", order_r1.status === \"delivered\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 11, order_r1.status), \" \");\n  }\n}\n\nexport let ChefViewComponent = /*#__PURE__*/(() => {\n  class ChefViewComponent {\n    constructor(authService, renderer) {\n      this.authService = authService;\n      this.renderer = renderer;\n      this.allOrders = [];\n      this.allStatusOrders = [];\n    }\n\n    ngOnInit() {\n      this.getOrdersOnTime(), this.statusPipe = '';\n    }\n\n    getOrdersOnTime() {\n      this.authService.getOrders().subscribe({\n        next: response => {\n          this.allOrders = response;\n          this.allStatusOrders = this.allOrders;\n          console.log(this.allStatusOrders);\n        },\n        error: error => {\n          console.error('There was an error!', error);\n        }\n      });\n    }\n\n    changeStatus(e) {\n      const idOrder = e.target.id;\n      const status = e.target.value;\n      let statusOnTime = '';\n\n      switch (status) {\n        case 'pending':\n          statusOnTime = 'delivering';\n          break;\n\n        default:\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: 'You do not have permission to make this status change!'\n          });\n          break;\n      }\n\n      const objStatus = {\n        status: statusOnTime\n      };\n      this.authService.changeStatusOrder(idOrder, objStatus).subscribe({\n        next: response => {\n          this.getOrdersOnTime();\n        },\n        error: error => {\n          console.error('There was an error!', error);\n        }\n      });\n    }\n\n    changeSectionStatus(e) {\n      let statusSection = e.target.dataset.value;\n      this.statusPipe = statusSection;\n    }\n\n  }\n\n  ChefViewComponent.ɵfac = function ChefViewComponent_Factory(t) {\n    return new (t || ChefViewComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n\n  ChefViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChefViewComponent,\n    selectors: [[\"app-chef-view\"]],\n    decls: 19,\n    vars: 8,\n    consts: [[1, \"container-chef-view\"], [1, \"section-orders-container-routing\"], [\"data-value\", \"\", 1, \"nav-btns-order\", 3, \"click\"], [\"data-value\", \"\", 1, \"nav-order\"], [\"data-value\", \"pending\", 1, \"nav-order\"], [\"data-value\", \"delivering\", 1, \"nav-order\"], [\"data-value\", \"delivered\", 1, \"nav-order\"], [\"data-value\", \"canceled\", 1, \"nav-order\"], [1, \"orders-container-routing\"], [1, \"orders-cards-container\"], [\"class\", \"order-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"order-card\"], [1, \"order-info-container\"], [1, \"table-and-client\"], [1, \"time\"], [4, \"ngIf\"], [1, \"products-container\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn-status\", 3, \"value\", \"id\", \"ngClass\", \"click\"], [1, \"product-card\"], [1, \"product-img\"], [3, \"src\"], [1, \"product-info\"]],\n    template: function ChefViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"nav\", 2);\n        i0.ɵɵlistener(\"click\", function ChefViewComponent_Template_nav_click_2_listener($event) {\n          return ctx.changeSectionStatus($event);\n        });\n        i0.ɵɵelementStart(3, \"button\", 3);\n        i0.ɵɵtext(4, \" All \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 4);\n        i0.ɵɵtext(6, \" Pending \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 5);\n        i0.ɵɵtext(8, \" Ready to serve \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 6);\n        i0.ɵɵtext(10, \" Delivered \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 7);\n        i0.ɵɵtext(12, \" Canceled \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 8)(14, \"div\", 9);\n        i0.ɵɵtemplate(15, ChefViewComponent_div_15_Template, 15, 17, \"div\", 10);\n        i0.ɵɵpipe(16, \"statusBtn\");\n        i0.ɵɵpipe(17, \"sortOrders\");\n        i0.ɵɵpipe(18, \"filterOrders\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 1, i0.ɵɵpipeBind1(17, 3, i0.ɵɵpipeBind2(18, 5, ctx.allStatusOrders, ctx.statusPipe))));\n      }\n    },\n    directives: [i2.NgForOf, i2.NgIf, i2.NgClass],\n    pipes: [i3.StatusBtnPipe, i4.SortOrdersPipe, i5.FilterOrdersPipe, i2.DatePipe, i2.TitleCasePipe],\n    styles: [\".container-chef-view[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%}.section-orders-container-routing[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:94%;padding:25px;width:100%;row-gap:25px}@media (min-width: 1000px) and (max-width: 1439px){.section-orders-container-routing[_ngcontent-%COMP%]{row-gap:25px}}.nav-btns-order[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.nav-btns-order[_ngcontent-%COMP%]   .nav-order[_ngcontent-%COMP%]{text-align:center;text-decoration:none;color:#000;font-weight:700;width:12%;padding:10px;border:none;border-radius:20px;font-size:15px}.nav-btns-order[_ngcontent-%COMP%]   .nav-order[_ngcontent-%COMP%]:hover{background-color:#fffcf8;color:#4b9eeb;border:1px solid #4b9eeb}.order-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;padding:12px;border-radius:10px;row-gap:15px;justify-content:space-between;align-items:center;box-shadow:2px 2px 2px 1px #0003;font-size:.8rem;font-weight:700;width:22%}@media (min-width: 1000px) and (max-width: 1439px){.order-card[_ngcontent-%COMP%]{font-size:.6rem}}.order-info-container[_ngcontent-%COMP%]{display:flex;column-gap:50px;align-items:center}@media (min-width: 1000px) and (max-width: 1439px){.order-info-container[_ngcontent-%COMP%]{font-size:.75rem}}.products-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;row-gap:25px;column-gap:50%}@media (min-width: 1000px) and (max-width: 1439px){.products-container[_ngcontent-%COMP%]{row-gap:18px}}.table-and-client[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:4px}.product-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;column-gap:42px;margin-left:7px}.product-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.orders-cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;row-gap:30px;overflow-y:scroll;height:700px;column-gap:65px;padding-bottom:10px}.orders-cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}.orders-cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#6b6c6d;border-radius:50px}.orders-cards-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}@media (min-width: 1000px) and (max-width: 1439px){.orders-cards-container[_ngcontent-%COMP%]{height:440px}}@media (min-height: 693px){.orders-cards-container[_ngcontent-%COMP%]{height:460px}}@media (min-height: 730px){.orders-cards-container[_ngcontent-%COMP%]{height:485px}}@media (min-height: 770px){.orders-cards-container[_ngcontent-%COMP%]{height:520px}}@media (min-height: 800px){.orders-cards-container[_ngcontent-%COMP%]{height:565px}}@media (min-height: 840px){.orders-cards-container[_ngcontent-%COMP%]{height:590px}}.product-img[_ngcontent-%COMP%]{width:40px;display:flex;flex-direction:column;align-items:center}.product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}@media (min-width: 1000px) and (max-width: 1439px){.product-img[_ngcontent-%COMP%]{height:32px}}.product-info[_ngcontent-%COMP%]{border-bottom:1.7px solid #747373}.time[_ngcontent-%COMP%]{text-align:center;font-weight:700}.btn-status[_ngcontent-%COMP%]{width:40%;border-radius:10px;padding:8px;border:1px solid;font-weight:700}.btn-status[_ngcontent-%COMP%]   .btn-style[_ngcontent-%COMP%]{color:#0ff;background-color:#000}.btn-pending[_ngcontent-%COMP%]{background-color:#fff8f8;color:#8b0505}.btn-delivering[_ngcontent-%COMP%]{background-color:#f8fffa;color:#058b53}.btn-delivered[_ngcontent-%COMP%]{background-color:#fbf8ff;color:#38058b}\"]\n  });\n  return ChefViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}