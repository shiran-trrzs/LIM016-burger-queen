{"ast":null,"code":"function cov_th0obr4n3() {\n  var path = \"C:\\\\Users\\\\PC\\\\LIM016-burger-queen\\\\src\\\\app\\\\modules\\\\login\\\\form\\\\form.component.ts\";\n  var hash = \"dc9c34cd9a40b8f069ecc0a41b2ee0bc0e954e42\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"C:\\\\Users\\\\PC\\\\LIM016-burger-queen\\\\src\\\\app\\\\modules\\\\login\\\\form\\\\form.component.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 7,\n          column: 20\n        },\n        end: {\n          line: 59,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 9,\n          column: 8\n        },\n        end: {\n          line: 9,\n          column: 39\n        }\n      },\n      \"2\": {\n        start: {\n          line: 10,\n          column: 8\n        },\n        end: {\n          line: 10,\n          column: 35\n        }\n      },\n      \"3\": {\n        start: {\n          line: 11,\n          column: 8\n        },\n        end: {\n          line: 11,\n          column: 33\n        }\n      },\n      \"4\": {\n        start: {\n          line: 12,\n          column: 8\n        },\n        end: {\n          line: 12,\n          column: 36\n        }\n      },\n      \"5\": {\n        start: {\n          line: 13,\n          column: 8\n        },\n        end: {\n          line: 16,\n          column: 11\n        }\n      },\n      \"6\": {\n        start: {\n          line: 20,\n          column: 8\n        },\n        end: {\n          line: 23,\n          column: 10\n        }\n      },\n      \"7\": {\n        start: {\n          line: 24,\n          column: 8\n        },\n        end: {\n          line: 37,\n          column: 11\n        }\n      },\n      \"8\": {\n        start: {\n          line: 26,\n          column: 16\n        },\n        end: {\n          line: 29,\n          column: 17\n        }\n      },\n      \"9\": {\n        start: {\n          line: 27,\n          column: 20\n        },\n        end: {\n          line: 27,\n          column: 48\n        }\n      },\n      \"10\": {\n        start: {\n          line: 28,\n          column: 20\n        },\n        end: {\n          line: 28,\n          column: 55\n        }\n      },\n      \"11\": {\n        start: {\n          line: 32,\n          column: 16\n        },\n        end: {\n          line: 32,\n          column: 37\n        }\n      },\n      \"12\": {\n        start: {\n          line: 35,\n          column: 16\n        },\n        end: {\n          line: 35,\n          column: 48\n        }\n      },\n      \"13\": {\n        start: {\n          line: 40,\n          column: 8\n        },\n        end: {\n          line: 57,\n          column: 9\n        }\n      },\n      \"14\": {\n        start: {\n          line: 41,\n          column: 12\n        },\n        end: {\n          line: 41,\n          column: 36\n        }\n      },\n      \"15\": {\n        start: {\n          line: 42,\n          column: 12\n        },\n        end: {\n          line: 42,\n          column: 43\n        }\n      },\n      \"16\": {\n        start: {\n          line: 43,\n          column: 12\n        },\n        end: {\n          line: 43,\n          column: 35\n        }\n      },\n      \"17\": {\n        start: {\n          line: 44,\n          column: 12\n        },\n        end: {\n          line: 44,\n          column: 56\n        }\n      },\n      \"18\": {\n        start: {\n          line: 46,\n          column: 13\n        },\n        end: {\n          line: 57,\n          column: 9\n        }\n      },\n      \"19\": {\n        start: {\n          line: 47,\n          column: 12\n        },\n        end: {\n          line: 47,\n          column: 39\n        }\n      },\n      \"20\": {\n        start: {\n          line: 48,\n          column: 12\n        },\n        end: {\n          line: 48,\n          column: 35\n        }\n      },\n      \"21\": {\n        start: {\n          line: 49,\n          column: 12\n        },\n        end: {\n          line: 49,\n          column: 40\n        }\n      },\n      \"22\": {\n        start: {\n          line: 50,\n          column: 12\n        },\n        end: {\n          line: 50,\n          column: 63\n        }\n      },\n      \"23\": {\n        start: {\n          line: 53,\n          column: 12\n        },\n        end: {\n          line: 53,\n          column: 38\n        }\n      },\n      \"24\": {\n        start: {\n          line: 54,\n          column: 12\n        },\n        end: {\n          line: 54,\n          column: 40\n        }\n      },\n      \"25\": {\n        start: {\n          line: 55,\n          column: 12\n        },\n        end: {\n          line: 55,\n          column: 43\n        }\n      },\n      \"26\": {\n        start: {\n          line: 56,\n          column: 12\n        },\n        end: {\n          line: 56,\n          column: 75\n        }\n      },\n      \"27\": {\n        start: {\n          line: 60,\n          column: 0\n        },\n        end: {\n          line: 62,\n          column: 2\n        }\n      },\n      \"28\": {\n        start: {\n          line: 60,\n          column: 37\n        },\n        end: {\n          line: 62,\n          column: 1\n        }\n      },\n      \"29\": {\n        start: {\n          line: 63,\n          column: 0\n        },\n        end: {\n          line: 69,\n          column: 18\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 8,\n            column: 4\n          },\n          end: {\n            line: 8,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 8,\n            column: 29\n          },\n          end: {\n            line: 17,\n            column: 5\n          }\n        },\n        line: 8\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 18,\n            column: 4\n          },\n          end: {\n            line: 18,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 18,\n            column: 15\n          },\n          end: {\n            line: 18,\n            column: 18\n          }\n        },\n        line: 18\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 19,\n            column: 4\n          },\n          end: {\n            line: 19,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 19,\n            column: 16\n          },\n          end: {\n            line: 38,\n            column: 5\n          }\n        },\n        line: 19\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 25,\n            column: 18\n          },\n          end: {\n            line: 25,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 25,\n            column: 30\n          },\n          end: {\n            line: 30,\n            column: 13\n          }\n        },\n        line: 25\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 31,\n            column: 19\n          },\n          end: {\n            line: 31,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 31,\n            column: 25\n          },\n          end: {\n            line: 33,\n            column: 13\n          }\n        },\n        line: 31\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 34,\n            column: 22\n          },\n          end: {\n            line: 34,\n            column: 23\n          }\n        },\n        loc: {\n          start: {\n            line: 34,\n            column: 28\n          },\n          end: {\n            line: 36,\n            column: 13\n          }\n        },\n        line: 34\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 39,\n            column: 4\n          },\n          end: {\n            line: 39,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 39,\n            column: 20\n          },\n          end: {\n            line: 58,\n            column: 5\n          }\n        },\n        line: 39\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 60,\n            column: 31\n          },\n          end: {\n            line: 60,\n            column: 32\n          }\n        },\n        loc: {\n          start: {\n            line: 60,\n            column: 37\n          },\n          end: {\n            line: 62,\n            column: 1\n          }\n        },\n        line: 60\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 26,\n            column: 16\n          },\n          end: {\n            line: 29,\n            column: 17\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 26,\n            column: 16\n          },\n          end: {\n            line: 29,\n            column: 17\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 26\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 40,\n            column: 8\n          },\n          end: {\n            line: 57,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 40,\n            column: 8\n          },\n          end: {\n            line: 57,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 46,\n            column: 13\n          },\n          end: {\n            line: 57,\n            column: 9\n          }\n        }],\n        line: 40\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 40,\n            column: 12\n          },\n          end: {\n            line: 40,\n            column: 52\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 40,\n            column: 12\n          },\n          end: {\n            line: 40,\n            column: 28\n          }\n        }, {\n          start: {\n            line: 40,\n            column: 32\n          },\n          end: {\n            line: 40,\n            column: 52\n          }\n        }],\n        line: 40\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 46,\n            column: 13\n          },\n          end: {\n            line: 57,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 46,\n            column: 13\n          },\n          end: {\n            line: 57,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 52,\n            column: 13\n          },\n          end: {\n            line: 57,\n            column: 9\n          }\n        }],\n        line: 46\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 46,\n            column: 17\n          },\n          end: {\n            line: 46,\n            column: 57\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 46,\n            column: 17\n          },\n          end: {\n            line: 46,\n            column: 36\n          }\n        }, {\n          start: {\n            line: 46,\n            column: 40\n          },\n          end: {\n            line: 46,\n            column: 57\n          }\n        }],\n        line: 46\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"form.component.js\",\n      sourceRoot: \"\",\n      sources: [\"C:\\\\Users\\\\PC\\\\LIM016-burger-queen\\\\src\\\\app\\\\modules\\\\login\\\\form\\\\form.component.ts\"],\n      names: [],\n      mappings: \";;;AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,WAAW,EAAE,MAAM,iCAAiC,CAAC;AAC9D,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;IAQvD,aAAa,SAAb,aAAa;IAUxB,YACU,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QALlC,kBAAa,GAAY,KAAK,CAAC;QAC/B,gBAAW,GAAY,KAAK,CAAC;QAC7B,mBAAc,GAAY,KAAK,CAAC;QAQhC,iBAAY,GAAG,IAAI,SAAS,CAAC;YAC3B,KAAK,EAAG,IAAI,WAAW,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;YACpE,QAAQ,EAAE,IAAI,WAAW,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;SACrD,CAAC,CAAA;IAPC,CAAC;IAEJ,QAAQ,KAAU,CAAC;IAOnB,KAAK,CAAC,IAAkB;QAEtB,IAAI,CAAC,SAAS,GAAG;YACf,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB,CAAA;QAED,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC;YACnD,IAAI,EAAE,QAAQ,CAAC,EAAE;gBACf,IAAI,QAAQ,CAAC,KAAK,EAAE;oBAClB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;oBAC3B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;iBACpC;YACH,CAAC;YACD,KAAK,EAAE,GAAG,EAAE;gBACV,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YACD,QAAQ,EAAE,GAAG,EAAE;gBACb,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,SAAS,CAAC,IAAkB;QAE1B,IAAG,IAAI,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,KAAK,EAAE,EAAE;YAC3C,IAAI,CAAE,WAAW,GAAE,IAAI,CAAC;YACxB,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,iBAAiB,GAAG,kBAAkB,CAAC;SAC7C;aAAM,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,EAAE;YACnD,IAAI,CAAE,cAAc,GAAE,IAAI,CAAC;YAC3B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,oBAAoB,GAAG,sBAAsB,CAAC;SACpD;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,0CAA0C,CAAC;SAChE;IAEH,CAAC;CAEF,CAAA;;YA1EQ,WAAW;;AASP,aAAa;IALzB,SAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,8BAAoC;;KAErC,CAAC;GACW,aAAa,CAiEzB;SAjEY,aAAa\",\n      sourcesContent: [\"import { Component, OnInit } from '@angular/core';\\r\\nimport { AuthService } from '../../../_services/auth.service';\\r\\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\\r\\nimport { LoginPayload } from 'src/app/interface/loginInterface';\\r\\n\\r\\n@Component({\\r\\n  selector: 'app-form',\\r\\n  templateUrl: './form.component.html',\\r\\n  styleUrls: ['./form.component.scss']\\r\\n})\\r\\nexport class FormComponent implements OnInit {\\r\\n\\r\\n  loginData !: LoginPayload;\\r\\n  messageError !: string;\\r\\n  messageEmailError !: string;\\r\\n  messagePasswordError !: string;\\r\\n  requestFailed: boolean = false;\\r\\n  emailFailed: boolean = false;\\r\\n  passwordFailed: boolean = false;\\r\\n\\r\\n  constructor(\\r\\n    private authService: AuthService\\r\\n  ) {}\\r\\n\\r\\n  ngOnInit(): void {} \\r\\n\\r\\n  validateForm = new FormGroup({\\r\\n    email : new FormControl('', [Validators.required, Validators.email]),\\r\\n    password: new FormControl('', [Validators.required])\\r\\n  })\\r\\n\\r\\n  login(form: LoginPayload) {\\r\\n\\r\\n    this.loginData = {\\r\\n      email: form.email,\\r\\n      password: form.password\\r\\n    }\\r\\n\\r\\n    this.authService.loginForm(this.loginData).subscribe({\\r\\n      next: response => {\\r\\n        if (response.token) {\\r\\n          console.log(response.token)\\r\\n          this.authService.setUser(response);\\r\\n        }\\r\\n      }, \\r\\n      error: () => {\\r\\n        this.showError(form);\\r\\n      },\\r\\n      complete: () => {\\r\\n        console.log('Request complete');\\r\\n      }\\r\\n    });\\r\\n  }\\r\\n\\r\\n  showError(form: LoginPayload) {\\r\\n\\r\\n    if(form.email == '' && form.password !== '') {\\r\\n      this. emailFailed= true;\\r\\n      this.messagePasswordError = '';\\r\\n      this.messageError = '';\\r\\n      this.messageEmailError = 'Email is missing';\\r\\n    } else if (form.password == '' && form.email !== '') {\\r\\n      this. passwordFailed= true;\\r\\n      this.messageError = '';\\r\\n      this.messageEmailError = '';\\r\\n      this.messagePasswordError = ' Password is missing';\\r\\n    } else { \\r\\n      this.requestFailed = true;\\r\\n      this.messageEmailError = '';\\r\\n      this.messagePasswordError = '';\\r\\n      this.messageError = 'Something bad happened; please try again';\\r\\n    }\\r\\n   \\r\\n  }\\r\\n  \\r\\n}\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"dc9c34cd9a40b8f069ecc0a41b2ee0bc0e954e42\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_th0obr4n3 = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_th0obr4n3();\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./form.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./form.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { AuthService } from '../../../_services/auth.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\ncov_th0obr4n3().s[0]++;\nlet FormComponent = class FormComponent {\n  constructor(authService) {\n    cov_th0obr4n3().f[0]++;\n    cov_th0obr4n3().s[1]++;\n    this.authService = authService;\n    cov_th0obr4n3().s[2]++;\n    this.requestFailed = false;\n    cov_th0obr4n3().s[3]++;\n    this.emailFailed = false;\n    cov_th0obr4n3().s[4]++;\n    this.passwordFailed = false;\n    cov_th0obr4n3().s[5]++;\n    this.validateForm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [Validators.required])\n    });\n  }\n\n  ngOnInit() {\n    cov_th0obr4n3().f[1]++;\n  }\n\n  login(form) {\n    cov_th0obr4n3().f[2]++;\n    cov_th0obr4n3().s[6]++;\n    this.loginData = {\n      email: form.email,\n      password: form.password\n    };\n    cov_th0obr4n3().s[7]++;\n    this.authService.loginForm(this.loginData).subscribe({\n      next: response => {\n        cov_th0obr4n3().f[3]++;\n        cov_th0obr4n3().s[8]++;\n\n        if (response.token) {\n          cov_th0obr4n3().b[0][0]++;\n          cov_th0obr4n3().s[9]++;\n          console.log(response.token);\n          cov_th0obr4n3().s[10]++;\n          this.authService.setUser(response);\n        } else {\n          cov_th0obr4n3().b[0][1]++;\n        }\n      },\n      error: () => {\n        cov_th0obr4n3().f[4]++;\n        cov_th0obr4n3().s[11]++;\n        this.showError(form);\n      },\n      complete: () => {\n        cov_th0obr4n3().f[5]++;\n        cov_th0obr4n3().s[12]++;\n        console.log('Request complete');\n      }\n    });\n  }\n\n  showError(form) {\n    cov_th0obr4n3().f[6]++;\n    cov_th0obr4n3().s[13]++;\n\n    if ((cov_th0obr4n3().b[2][0]++, form.email == '') && (cov_th0obr4n3().b[2][1]++, form.password !== '')) {\n      cov_th0obr4n3().b[1][0]++;\n      cov_th0obr4n3().s[14]++;\n      this.emailFailed = true;\n      cov_th0obr4n3().s[15]++;\n      this.messagePasswordError = '';\n      cov_th0obr4n3().s[16]++;\n      this.messageError = '';\n      cov_th0obr4n3().s[17]++;\n      this.messageEmailError = 'Email is missing';\n    } else {\n      cov_th0obr4n3().b[1][1]++;\n      cov_th0obr4n3().s[18]++;\n\n      if ((cov_th0obr4n3().b[4][0]++, form.password == '') && (cov_th0obr4n3().b[4][1]++, form.email !== '')) {\n        cov_th0obr4n3().b[3][0]++;\n        cov_th0obr4n3().s[19]++;\n        this.passwordFailed = true;\n        cov_th0obr4n3().s[20]++;\n        this.messageError = '';\n        cov_th0obr4n3().s[21]++;\n        this.messageEmailError = '';\n        cov_th0obr4n3().s[22]++;\n        this.messagePasswordError = ' Password is missing';\n      } else {\n        cov_th0obr4n3().b[3][1]++;\n        cov_th0obr4n3().s[23]++;\n        this.requestFailed = true;\n        cov_th0obr4n3().s[24]++;\n        this.messageEmailError = '';\n        cov_th0obr4n3().s[25]++;\n        this.messagePasswordError = '';\n        cov_th0obr4n3().s[26]++;\n        this.messageError = 'Something bad happened; please try again';\n      }\n    }\n  }\n\n};\ncov_th0obr4n3().s[27]++;\n\nFormComponent.ctorParameters = () => {\n  cov_th0obr4n3().f[7]++;\n  cov_th0obr4n3().s[28]++;\n  return [{\n    type: AuthService\n  }];\n};\n\ncov_th0obr4n3().s[29]++;\nFormComponent = __decorate([Component({\n  selector: 'app-form',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], FormComponent);\nexport { FormComponent };","map":{"version":3,"sources":["C:/Users/PC/LIM016-burger-queen/src/app/modules/login/form/form.component.ts"],"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","AuthService","FormGroup","FormControl","Validators","FormComponent","constructor","authService","requestFailed","emailFailed","passwordFailed","validateForm","email","required","password","ngOnInit","login","form","loginData","loginForm","subscribe","next","response","token","console","log","setUser","error","showError","complete","messagePasswordError","messageError","messageEmailError","ctorParameters","type","selector","template","styles"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport __NG_CLI_RESOURCE__0 from \"./form.component.html?ngResource\";\r\nimport __NG_CLI_RESOURCE__1 from \"./form.component.scss?ngResource\";\r\nimport { Component } from '@angular/core';\r\nimport { AuthService } from '../../../_services/auth.service';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nlet FormComponent = class FormComponent {\r\n    constructor(authService) {\r\n        this.authService = authService;\r\n        this.requestFailed = false;\r\n        this.emailFailed = false;\r\n        this.passwordFailed = false;\r\n        this.validateForm = new FormGroup({\r\n            email: new FormControl('', [Validators.required, Validators.email]),\r\n            password: new FormControl('', [Validators.required])\r\n        });\r\n    }\r\n    ngOnInit() { }\r\n    login(form) {\r\n        this.loginData = {\r\n            email: form.email,\r\n            password: form.password\r\n        };\r\n        this.authService.loginForm(this.loginData).subscribe({\r\n            next: response => {\r\n                if (response.token) {\r\n                    console.log(response.token);\r\n                    this.authService.setUser(response);\r\n                }\r\n            },\r\n            error: () => {\r\n                this.showError(form);\r\n            },\r\n            complete: () => {\r\n                console.log('Request complete');\r\n            }\r\n        });\r\n    }\r\n    showError(form) {\r\n        if (form.email == '' && form.password !== '') {\r\n            this.emailFailed = true;\r\n            this.messagePasswordError = '';\r\n            this.messageError = '';\r\n            this.messageEmailError = 'Email is missing';\r\n        }\r\n        else if (form.password == '' && form.email !== '') {\r\n            this.passwordFailed = true;\r\n            this.messageError = '';\r\n            this.messageEmailError = '';\r\n            this.messagePasswordError = ' Password is missing';\r\n        }\r\n        else {\r\n            this.requestFailed = true;\r\n            this.messageEmailError = '';\r\n            this.messagePasswordError = '';\r\n            this.messageError = 'Something bad happened; please try again';\r\n        }\r\n    }\r\n};\r\nFormComponent.ctorParameters = () => [\r\n    { type: AuthService }\r\n];\r\nFormComponent = __decorate([\r\n    Component({\r\n        selector: 'app-form',\r\n        template: __NG_CLI_RESOURCE__0,\r\n        styles: [__NG_CLI_RESOURCE__1]\r\n    })\r\n], FormComponent);\r\nexport { FormComponent };\r\n"]},"metadata":{},"sourceType":"module"}